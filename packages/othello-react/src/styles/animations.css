/* ========================================
   OTHELLO ANIMATIONS
   All keyframe animations and transitions
   ======================================== */

/* ========== FLIP ANIMATION ========== */
/* Piece flip animation - shows old color → invisible → new color */
.Tile.tile-flip .tile-inner {
  animation: flipAnimation 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.Tile.tile-flip svg {
  animation: flipPieceVisibility 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes flipAnimation {
  0% {
    transform: rotateY(0deg);
  }
  50% {
    transform: rotateY(90deg) scale(1.1);
  }
  100% {
    transform: rotateY(180deg);
  }
}

@keyframes flipPieceVisibility {
  0% {
    opacity: 1;
  }
  45% {
    opacity: 1;
  }
  50% {
    opacity: 0; /* Hide piece at peak of flip - color change happens here */
  }
  55% {
    opacity: 1; /* Show new color */
  }
  100% {
    opacity: 1;
  }
}

/* ========== GLASS GLARE ANIMATION ========== */
/* Glass glare animation timing: 5-second cycle
 * 0-1%:    Fade in (0.05s)
 * 1-10%:   Sweep across tile (0.45s) - THE VISIBLE MOMENT
 * 10-11%:  Fade out (0.05s)
 * 11-100%: Hidden, waiting for next cycle (4.45s)
 * Total visible time: 0.5s every 5s = 10% duty cycle (subtle!)
 */
@keyframes glassGlare {
  0% {
    left: -50%;
    opacity: 0;
  }
  1% {
    opacity: 1; /* Fade in */
  }
  10% {
    left: 100%; /* Sweep complete */
    opacity: 1;
  }
  11% {
    opacity: 0; /* Fade out */
    left: 100%;
  }
  100% {
    left: 100%; /* Stay hidden */
    opacity: 0;
  }
}

/* ========== UI ANIMATIONS ========== */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========== SCORE ANIMATION (NEW) ========== */
/* Score change animation - scales up with color change */
@keyframes scoreIncrease {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
    color: #ffd700;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
  }
  100% {
    transform: scale(1);
  }
}

/* Floating +X indicator */
@keyframes floatUp {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(0.8);
  }
}

/* Score change utility class */
.score-change {
  animation: scoreIncrease 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Floating score indicator */
.score-float {
  animation: floatUp 1s ease-out forwards;
}
